<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Delete Event</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this event?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" (click) = "delete()"class="btn btn-danger" data-dismiss="modal">Delete</button>
      </div>
    </div>
  </div>
</div>
<!-- HEADER -->
<div class="container-fluid m-0 p-0 restOfSite">
  <div class="row m-0 p-0">
    <div class="col m-0 lightHeader">
      <h1>EVENTS</h1>
    </div>
  </div>
</div>
<div class="container restOfSite">
  <div class="row m-0 p-0">
    <div class="col m-0 p-0">
      <div class = "row" style = "margin-bottom: 2vh; margin-left: 0; margin-right: 0;">
        <div class = "col-10 p-0 m-0">
          <input [(ngModel)]="searchText" placeholder="Search for Event or Event Code" class = "form-control">
        </div>
        <div class = "col-2 p-0 m-0">
    			<button style="margin-left: 35%; margin-top: 4px;" class = "addButton" [routerLink] = "['/events/create']"><i style = "color: rgb(233,233,233)"class="fas fa-plus"></i></button>
        </div>
      </div>

			<div class = "table-responsive">
  			<table class="table table-striped">
  			  <thead>
						<tr>
  			      <th (click) = "filterByName()" class = "filterByButton" scope="col">Event</th>
  			      <th (click) = "filterByValue()"class = "filterByButton" scope="col">Points</th>
  						<th (click) = "filterByCode()"class = "filterByButton" scope="col">Code</th>
							<th (click) = "filterByDate()"class = "filterByButton" scope="col">Date</th>
              <th scope="col"></th>
              <th scope="col"></th>
  			    </tr>
					</thead>
          <!-- filter by event name -->
					<tbody  *ngIf = "filterBy === 'eventName'">
  			    <tr *ngFor = "let event of events | orderby: 'eventName' | filterEvents : searchText">
  						<td>{{event.eventName}}</td>
  			      <td>{{event.eventValue}}</td>
  			      <td>{{event.eventCode}}</td>
							<td>{{event.eventDate | date: 'medium'}}</td>
              <td><button class = "editButton" [routerLink]="['/events', event._id, 'edit']"><i style = "color: rgb(233,233,233);" class="fas fa-pen"></i></button></td>
              <td><button class = "deleteButton" data-toggle="modal" data-target="#exampleModal" (click)="deleteModal(event)"><i style = "color: rgb(233,233,233);" class="fas fa-trash-alt"></i></button></td>
  			    </tr>
          </tbody>
            <!-- filter by points -->
          <tbody  *ngIf = "filterBy === 'value'">
  			    <tr *ngFor = "let event of events | orderByNumber: 'eventValue' | filterEvents : searchText">
  						<td>{{event.eventName}}</td>
  			      <td>{{event.eventValue}}</td>
  			      <td>{{event.eventCode}}</td>
							<td>{{event.eventDate | date: 'medium'}}</td>
              <td><button class = "editButton" [routerLink]="['/events', event._id, 'edit']"><i style = "color: rgb(233,233,233);" class="fas fa-pen"></i></button></td>
              <td><button class = "deleteButton" data-toggle="modal" data-target="#exampleModal" (click)="deleteModal(event)"><i style = "color: rgb(233,233,233);" class="fas fa-trash-alt"></i></button></td>
  			    </tr>
          </tbody>
          <!-- filter by date -->
          <tbody  *ngIf = "filterBy === 'date'">
  			    <tr *ngFor = "let event of events | orderByDate: 'eventDate' | filterEvents : searchText">
  						<td>{{event.eventName}}</td>
  			      <td>{{event.eventValue}}</td>
  			      <td>{{event.eventCode}}</td>
							<td>{{event.eventDate | date: 'medium'}}</td>
              <td><button class = "editButton" [routerLink]="['/events', event._id, 'edit']"><i style = "color: rgb(233,233,233);" class="fas fa-pen"></i></button></td>
              <td><button class = "deleteButton" data-toggle="modal" data-target="#exampleModal" (click)="deleteModal(event)"><i style = "color: rgb(233,233,233);" class="fas fa-trash-alt"></i></button></td>
  			    </tr>
          </tbody>
          <!-- filter by code -->
          <tbody  *ngIf = "filterBy === 'Code' ">
  			    <tr *ngFor = "let event of events | orderby: 'eventCode' | filterEvents : searchText">
  						<td>{{event.eventName}}</td>
  			      <td>{{event.eventValue}}</td>
  			      <td>{{event.eventCode}}</td>
							<td>{{event.eventDate | date: 'medium'}}</td>
              <td><button class = "editButton" [routerLink]="['/events', event._id, 'edit']"><i style = "color: rgb(233,233,233);" class="fas fa-pen"></i></button></td>
              <td><button class = "deleteButton" data-toggle="modal" data-target="#exampleModal" (click)="deleteModal(event)"><i style = "color: rgb(233,233,233);" class="fas fa-trash-alt"></i></button></td>
  			    </tr>
          </tbody>
				</table>
			</div>
		</div>
	</div>
</div>
